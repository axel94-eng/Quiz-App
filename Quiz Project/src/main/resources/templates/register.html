<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>QuizApp</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link th:href="@{/css/register.css}" rel="stylesheet" />
<body>
<div class="wrapper">
    <nav style="margin-left: 10px">
        <input type="checkbox" id="show-search">
        <input type="checkbox" id="show-menu">
        <label for="show-menu" class="menu-icon">
            <i class="fas fa-bars"></i>
        </label>
        <div class="content">
            <div class="logo">
                <a href="#">Quiz App</a>
            </div>
            <ul class="links">
                <li style="margin-left:80px">
                    <a sec:authorize="isAuthenticated()" href="/home">Home</a>
                </li>
                <li style="margin-left:200px">
                    <a sec:authorize="!isAuthenticated()" href="/home">Home</a>
                </li>
                <a sec:authorize="isAuthenticated()" href="/logout">
                    <button class="responsive-button">Logout</button>
                </a>
            </ul>
        </div>
    </nav>
</div>
<br>
<br>
<br>
<div class="container">
    <div class="row col-md-8 offset-md-2">
        <div class="card">
            <div class="card-header">
                <h2 class="text-center">Registration</h2>
            </div>
            <div th:if="${param.success}">
                <div class="alert alert-info"> You have successfully registered our app! </div>
            </div>
            <div class="card-body">
                <form method="post" role="form" th:action="@{/register/save}" th:object="${user}">
                    <div class="form-group mb-3">
                        <label class="form-label">User Name</label>
                        <input class="form-control" id="userName" name="userName" placeholder="Enter user name" th:field="*{userName}" type="text" />
                        <p th:errors="*{userName}" class="text-danger" th:if="${#fields.hasErrors('userName')}"></p>
                    </div>
                    <div class="form-group mb-3">
                        <label class="form-label">Email</label>
                        <input
                                class="form-control"
                                id="email"
                                name="email"
                                placeholder="Enter email address"
                                th:field="*{email}"
                                type="email"
                        />
                        <p th:errors = "*{email}" class="text-danger"
                           th:if="${#fields.hasErrors('email')}"></p>
                    </div>
                    <div class="form-group mb-3">
                        <label class="form-label">Password</label>
                        <input
                                class="form-control"
                                id="password"
                                name="password"
                                placeholder="Enter password"
                                th:field="*{password}"
                                type="password"
                        />
                        <p th:errors = "*{password}" class="text-danger"
                           th:if="${#fields.hasErrors('password')}"></p>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary" type="submit">Register</button>
                        <span>Already registered
                            <a th:href="@{/login}">Login here</a>
																</span>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>